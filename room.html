<!DOCTYPE html>
<html>
<head>
	<title>Scratchy</title>
	<script src="https://unpkg.com/vue@next"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js "></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/fr.min.js"></script>
	<meta charset="utf-8">
</head>
<body>
	<div id="app">
		<messages v-bind:messages="apiMessages"></messages>
	</div>
	<script type="text/javascript">
		const main = {
			data(){
				return {
					apiMessages: [
				      {id : "459I548383",content: "Bonjour tata", author: "toto",  timestamp: 1618587750035},
				      {id : "4459493924",content: "Salut toto", author: "tata",  timestamp: 1618587750035 },
				      ]
				}

			}	

		};
		const messages = {
			name: 'messages',
			props: ['messages'],
			methods: {
				humanDate(ts){
					return moment(ts).fromNow();
				}
			},
			template: `
			<ul>
			 <li v-for="msg in messages" :key="msg.id"> <b> {{msg.author}} : </b> {{msg.content}} Ã  {{humanDate(msg.timestamp)}}</li>
			</ul>
			`,
		};
		app = Vue.createApp(main);
		app.component('messages',messages);
		app.mount('#app');
	</script>
</body>
</html>